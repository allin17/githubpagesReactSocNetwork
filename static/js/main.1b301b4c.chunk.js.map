{"version":3,"sources":["redux/dialogs-reducer.js","API/API.js","components/Users/users.module.css","components/Navbar/Navbar.module.css","reportWebVitals.js","components/Navbar/Navbar.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","redux/users-reducer.js","assets/images/user.png","components/Users/Paginator.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","redux/app-reducer.js","redux/redux-store.js","App.js","index.js","common/FormControls/FormControl.module.css","assets/images/1480.gif","common/Preloader/Preloader.js","common/FormControls/FormsControls.js","components/Users/Paginator.module.css","components/Header/Header.module.css","utils/validators.js","redux/profile-reducer.js"],"names":["SEND_MESSAGE","initialState","dialogs","id","name","messages","mes","sendMessageCreator","newMessageBody","type","dialogsReducer","state","action","body","message","instance","axios","withCredentials","headers","baseURL","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","profileAPI","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","authAPI","me","login","email","password","rememberMe","logout","securityAPI","getCaptchaUrl","module","exports","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Navbar","className","s","nav","item","to","activeClassName","active","Music","props","Settings","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","portionSize","followSuccess","unfollowSuccess","setCurrentPage","setUsersTotalCount","count","toggleIsFetching","toggleFollowingProgress","followUnfollow","apiMethod","actionCreator","dispatch","a","resultCode","usersReducer","map","u","followed","filter","Paginator","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","cn","paginator","onClick","p","selectedPage","pageNumber","e","onPageChanged","User","src","photos","small","userPhoto","usersPhoto","disabled","some","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","UsersContainer","getUsersR","this","Preloader","Users","React","Component","compose","connect","bind","page","items","totalCount","Header","header","loginBlock","isAuth","log","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","captchaUrl","setUserData","getCaptchaUrlSuccess","getUserData","url","authReducer","HeaderContainer","auth","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","Field","placeholder","component","Input","validate","required","formSummaryError","length","stopSubmit","_error","SET_INITIALIZED","initialized","appReducer","reducers","combineReducers","profilePage","profileReducer","messagesPage","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","ProfileContainer","lazy","DialogsContainer","App","initializeApp","path","render","Suspense","fallback","AppContainer","withRouter","promise","Promise","all","SamuraiJSApp","basename","process","ReactDOM","document","getElementById","preloader","FormControl","input","meta","child","hasError","touched","formControl","children","Textarea","restProps","value","maxLengthCreator","maxLength","ADD_POST","DELETE_POST","SET_USER_PROFILE","SET_STATUS","SAVE_PHOTO_SUCCESS","posts","likesCount","profile","addPostActionCreator","newPostMessage","setStatus","setUserProfile","getUserProfile","file","newPost","newPostText","postId"],"mappings":"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","file":"static/js/main.1b301b4c.chunk.js","sourcesContent":["\nconst SEND_MESSAGE='SEND_MESSAGE';\n\nlet initialState = {\n    dialogs: [\n        {id: 1, name: 'Zahar'},\n        {id: 2, name: 'Mersedes'},\n        {id: 3, name: 'BMW'}\n    ],\n    messages: [\n        {mes: 'Its mem wow!'},\n        {mes: 'You can buy a brand new G63 AMG'},\n        {mes: 'Omg kak react'}\n    ],\n}\nconst dialogsReducer = (state=initialState, action) => {\n\n    let stateCopy = {\n        ...state,\n       // messages: [...state.messages]\n    }\n    switch(action.type){\n        case SEND_MESSAGE:\n            let body=action.newMessageBody;\n\n            return {\n                ...state,\n                messages: [...state.messages, {id:4, message: body}]\n            }\n    }\n    return state;\n}\n\nexport const sendMessageCreator = (newMessageBody) => ({type: SEND_MESSAGE, newMessageBody})\n\n\nexport default dialogsReducer;","import * as axios from \"axios\";\n\nconst instance = axios.create({\n    withCredentials: true,\n    headers: {\n        \"API-KEY\":'bae00401-471b-4251-b755-b99d7c5106e2'\n    },\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\n\n})\n\nexport const usersAPI = {\n    getUsers (currentPage = 1, pageSize = 10) {\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\n            .then(response => {\n                    return response.data\n                })\n    },\n    follow (userId) {\n         return instance.post(`follow/${userId}`\n         )},\n    unfollow (userId) {\n        return instance.delete(`follow/${userId}`,\n        )},\n    getProfile(userId){\n        return profileAPI.getProfile(userId)\n    }\n}\n\nexport const profileAPI = {\n    getProfile(userId){\n        return instance.get(`profile/` + userId)\n    },\n    getStatus(userId){\n        return instance.get(`profile/status/` + userId)\n    },\n    updateStatus(status){\n        return instance.put('profile/status/', {status: status})\n    },\n    savePhoto(photoFile) {\n        const formData = new FormData()\n        formData.append('image', photoFile)\n\n        return instance.put('profile/photo', formData,\n            {headers: {\n                'Content-Type': 'multipart/form-data'\n                }})\n    }\n}\n\nexport const authAPI = {\n    me() {\n        return instance.get(`auth/me`)\n    },\n    login(email, password, rememberMe = false) {\n        return instance.post(`auth/login`,{email, password, rememberMe})\n    },\n    logout() {\n        return instance.delete(`auth/login`)\n    }\n}\n\nexport const securityAPI = {\n    getCaptchaUrl() {\n        return instance.get(`security/get-captcha-url`)\n    },\n\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersPhoto\":\"users_usersPhoto__1-7zA\",\"selectedPage\":\"users_selectedPage__2gQ3T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2uSmj\",\"item\":\"Navbar_item__12LPY\",\"active\":\"Navbar_active__2NEZz\"};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport s from './Navbar.module.css';\nimport {NavLink} from \"react-router-dom\";\n\nconst Navbar = () => {\n    return <nav className={s.nav}>\n        <div className={s.item}>\n            <NavLink to=\"/profile\" activeClassName={s.active}> Profile </NavLink>\n        </div>\n        <div className={s.item}>\n            <NavLink to=\"/dialogs\" activeClassName={s.active}> Messages</NavLink>\n        </div>\n        <div className={s.item}>\n            <NavLink to=\"/users\" activeClassName={s.active}> Users</NavLink>\n        </div>\n        <div className={s.item}>\n            <NavLink to=\"/news\" activeClassName={s.active}>News</NavLink>\n        </div>\n        <div className={s.item}>\n            <NavLink to=\"/music\" activeClassName={s.active}>Music</NavLink>\n        </div>\n        <div className={s.item}>\n            <NavLink to=\"/settings\" activeClassName={s.active}>Settings</NavLink>\n        </div>\n    </nav>\n}\n\nexport default Navbar;","import React from 'react';\nimport s from './Music.module.css'\n\nconst Music = (props) => {\n    return (\n        <div>\n            Music\n        </div>\n    )\n}\nexport default Music;","import React from 'react';\nimport s from './Settings.module.css'\n\nconst Settings = (props) =>{\n    return (\n        <div>\n            Set\n        </div>\n    )\n}\n\nexport default Settings;","import {usersAPI} from \"../API/API\";\n\nconst FOLLOW = 'FOLLOW';\nconst UNFOLLOW = 'UNFOLLOW';\nconst SET_USERS = 'SET_USERS';\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\n\nlet initialState = {\n    userId: 2,\n    users: [\n        ],\n    pageSize:5 ,\n    totalUsersCount:0 ,\n    currentPage: 1,\n    isFetching: true,\n    followingInProgress: [],\n    portionSize:10\n};\n\nconst usersReducer = (state=initialState, action)=> {\n\n    switch(action.type) {\n        case FOLLOW:\n            return {\n            ...state,\n            users: state.users.map(u => {\n                if (u.id === action.userId) {\n                    return {...u, followed:true}\n                }\n                return u;\n                })\n            }\n        case UNFOLLOW:\n            return {\n                ...state,\n                users: state.users.map(u => {\n                    if(u.id === action.userId) {\n                        return {...u, followed: false}\n                    }\n                    return u;\n                })\n            }\n        case SET_USERS:{\n            return {\n                ...state,\n                users : action.users\n            }}\n        case SET_CURRENT_PAGE:{\n            return{\n                ...state, currentPage: action.currentPage\n            }\n        }\n        case SET_TOTAL_USERS_COUNT:{\n            return{\n                ...state, totalUsersCount: action.count\n            }\n        }\n        case TOGGLE_IS_FETCHING:{\n            return{\n                ...state, isFetching: action.isFetching\n            }\n        }\n        case TOGGLE_IS_FOLLOWING_PROGRESS:{\n            return{\n                ...state,\n                followingInProgress: action.isFetching ? [...state.followingInProgress ,action.userId] :[...state.followingInProgress.filter(id=>id!==action.userId)]\n            }\n        }\n        default:\n            return state;\n    }\n\n}\n\nexport const followSuccess = (userId) => ({type: FOLLOW, userId})\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId})\nexport const setUsers = (users) => ({type: SET_USERS, users})\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage})\nexport const setUsersTotalCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT,count:totalUsersCount})\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching})\nexport const toggleFollowingProgress = (isFetching,userId) => ({type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId})\n\nexport const requestUsers = (page, pageSize) => {\n        return async (dispatch) => {\n            dispatch(toggleIsFetching(true));\n\n            let data = await usersAPI.getUsers(page, pageSize)\n                dispatch(toggleIsFetching(false));\n                dispatch(setUsers(data.items));\n                dispatch(setCurrentPage(page));\n                dispatch(setUsersTotalCount(data.totalCount));\n        }\n    }\n\nconst followUnfollow = async (apiMethod,actionCreator,dispatch, userId,  ) => {\n        dispatch(toggleFollowingProgress(true, userId))\n        let response = await apiMethod(userId)\n        if (response.data.resultCode === 0) {\n            dispatch(actionCreator(userId));\n        }\n        dispatch(toggleFollowingProgress(false, userId))\n    }\n\n\nexport const follow = (userId) => {\n    return async(dispatch) => {\n        followUnfollow(usersAPI.follow.bind(usersAPI), followSuccess, dispatch, userId)\n}}\n\n\nexport const unfollow = (userId) => {\n    return async (dispatch) => {\n        followUnfollow(usersAPI.unfollow.bind(usersAPI), unfollowSuccess, dispatch, userId)\n}}\n\nexport default usersReducer;\n\n","export default __webpack_public_path__ + \"static/media/user.e1b99a4e.png\";","import React, {useState} from 'react'\nimport s from './Paginator.module.css';\nimport cn from \"classnames\"\n\nlet Paginator = (props) => {\n\n    let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize)\n\n    let pages = [];\n    for (let i = 1; i <= pagesCount; i++) {\n        pages.push(i);\n    }\nlet portionSize=10\n    let portionCount=Math.ceil(pagesCount/portionSize)\n    let [portionNumber,setPortionNumber] = useState(1)\n    let leftPortionPageNumber=(portionNumber-1)*portionSize+1\n    let rightPortionPageNumber=portionNumber*portionSize\n\n    return <div className={cn(s.paginator)} >\n        { portionNumber > 1 &&\n        <button onClick={()=>{setPortionNumber(portionNumber - 1)} }>PREV</button>}\n        {pages\n            .filter(p => p >= leftPortionPageNumber && p<=rightPortionPageNumber)\n            .map((p) => {\n                return <span className={ cn({\n                    [s.selectedPage]: props.currentPage === p\n                }, s.pageNumber) }\n                             key={p}\n                             onClick={(e) => {\n                                 props.onPageChanged(p);\n                             }}>{p}</span>\n        })}\n        { portionCount > portionNumber &&\n        <button onClick={()=>{ setPortionNumber(portionNumber + 1)}}>NEXT</button>}\n    </div>\n\n}\nexport default Paginator","import React from 'react'\nimport s from \"./users.module.css\";\nimport userPhoto from \"../../assets/images/user.png\";\nimport {NavLink} from \"react-router-dom\";\nimport Paginator from \"./Paginator\";\n\nlet User = ({currentPage, onPageChanged, totalUsersCount, pageSize,portionSize, ...props}) => {\nreturn <div>\n    <Paginator currentPage={currentPage}\n               onPageChanged={onPageChanged}\n               totalUsersCount={totalUsersCount}\n               pageSize={pageSize}\n               portionSize={portionSize}\n    />\n        {\n            props.users.map(u => <div key={u.id}>\n                <span>\n                    <div>\n                        <NavLink to = {'/profile/'+u.id}>\n                        <img src={u.photos.small != null ? u.photos.small : userPhoto} className={s.usersPhoto}/>\n                        </NavLink>\n                        </div>\n                    <div>\n                        {u.followed ? <button disabled={props.followingInProgress.some(id=>id===u.id)}\n                                              onClick={() => {\n                                props.unfollow(u.id)\n\n                            }}>Unfollow</button>\n                            : <button disabled={props.followingInProgress.some(id=>id===u.id)}\n                                onClick={() => {\n                                props.follow(u.id)\n                            }}>Follow</button>}\n                    </div>\n                </span>\n                <span>\n                    <span>\n                        <div>{u.name}</div>\n                        <div>{u.status}</div>\n                    </span>\n                    <span>\n                        <div>{\"u.location.city\"}</div>\n                        <div>{\"u.location.country\"}</div>\n                    </span>\n                </span>\n            </div>)}\n\n    </div>\n}\n\nexport default User;","export const getUsers=(state)=>{\n    return state.usersPage.users.filter(u=>true)\n}\n\nexport const getPageSize=(state)=>{\n    return state.usersPage.pageSize\n}\n\nexport const getTotalUsersCount=(state)=>{\n    return state.usersPage.totalUsersCount\n}\n\nexport const getCurrentPage=(state)=>{\n    return state.usersPage.currentPage\n}\n\nexport const getIsFetching=(state)=>{\n    return state.usersPage.isFetching\n}\n\nexport const followingInProgress=(state)=>{\n    return state.usersPage.followingInProgress\n}","import React from 'react'\nimport {connect} from \"react-redux\";\nimport {\n    follow, requestUsers,\n    setCurrentPage,\n    setUsersTotalCount, toggleFollowingProgress,\n    toggleIsFetching,\n    unfollow,\n} from \"../../redux/users-reducer\";\nimport Users from \"./Users\";\nimport Preloader from \"../../common/Preloader/Preloader\";\nimport {compose} from \"redux\";\nimport {\n    getUsers,\n    followingInProgress,\n    getCurrentPage,\n    getIsFetching,\n    getPageSize,\n    getTotalUsersCount\n} from \"../../redux/users-selectors\";\n\n\nclass UsersContainer extends React.Component {\n\n    componentDidMount() {\n        this.props.getUsersR(this.props.currentPage, this.props.pageSize)\n    }\n\n    onPageChanged=(p)=>{\n        this.props.getUsersR(p, this.props.pageSize)\n    }\n    \n    render() {\n        return <>\n\n            {this.props.isFetching ? <Preloader /> : null}\n\n            <Users totalUsersCount={this.props.totalUsersCount}\n                   portionSize={this.props.portionSize}\n                      pageSize={this.props.pageSize}\n                      currentPage={this.props.currentPage}\n                      onPageChanged={this.onPageChanged}\n                      users={this.props.users}\n                      follow={this.props.follow}\n                      unfollow={this.props.unfollow}\n                   toggleFollowingProgress={this.props.toggleFollowingProgress}\n                   followingInProgress={this.props.followingInProgress}\n            />\n            </>\n    }\n}\n\nlet mapStateToProps = (state) => {\n    return {\n        users: getUsers(state),\n        totalUsersCount:getTotalUsersCount(state),\n        pageSize:getPageSize(state),\n        currentPage:getCurrentPage(state),\n        isFetching:getIsFetching(state),\n        followingInProgress: followingInProgress(state)\n    }\n}\n\nexport default compose(\n    connect(mapStateToProps, {\n    follow,\n    unfollow,setCurrentPage,\n    getUsersR: requestUsers,setUsersTotalCount,\n    toggleIsFetching,toggleFollowingProgress,\n}),)\n(UsersContainer)\n\n\n","import React from 'react';\nimport s from './Header.module.css';\nimport {NavLink} from \"react-router-dom\";\n\nconst Header = (props) => {\n    return <header className={s.header}>\n    <img src='https://www.dusterauto.ru/wp-content/uploads/2018/11/VAG-logo.jpg' />\n\n    <div className={s.loginBlock}>\n        { props.isAuth\n            ? <div className={s.log}>{props.login} - <button onClick={props.logout}>Logout</button></div>\n            : <NavLink to={'/login'}>Login</NavLink> }\n        </div>\n  </header>\n}\n\nexport default Header;","import {authAPI, securityAPI} from \"../API/API\";\nimport {stopSubmit} from \"redux-form\";\n\nconst SET_USER_DATA = 'auth/SET_USER_DATA';\nconst GET_CAPTCHA_URL_SUCCESS = 'auth/GET_CAPTCHA_URL_SUCCESS';\n\nlet initialState = {\n    userId: 2,\n    email: null,\n    login: null,\n    isAuth:false,\n    captchaUrl: null,\n};\n\nconst authReducer = (state=initialState, action)=> {\n    switch(action.type) {\n        case SET_USER_DATA:\n            return {\n                ...state,\n                ...action.data,\n        }\n        case GET_CAPTCHA_URL_SUCCESS:\n            return {\n                ...state,\n                ...action.data,\n        }\n        default:\n            return state;\n    }\n\n}\n\nexport const setUserData = (userId, email, login, isAuth) => ({type: SET_USER_DATA, data: {userId, email, login, isAuth}})\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({type: GET_CAPTCHA_URL_SUCCESS, data: {captchaUrl}})\nexport const getUserData = () => async (dispatch) => {\n    let response = await authAPI.me()\n    if (response.data.resultCode === 0) {\n        let {id, email, login} = response.data.data;\n        dispatch(setUserData(id, email, login, true))\n    }\n}\nexport const login = (email, password, rememberMe) => async (dispatch) =>{\n\n    let response = await authAPI.login(email, password, rememberMe)\n            if(response.data.resultCode===0) {\n                dispatch(getUserData())\n            }\n            else {\n                if(response.data.resultCode===10){\n                    dispatch(getCaptchaUrl())\n                }\n                let message=response.data.messages.length>0 ? response.data.messages[0] : 'Error'\n                dispatch(stopSubmit('login',{_error: message}))\n            }\n}\n\nexport const getCaptchaUrl = () => async (dispatch) =>{\n\n    const response = await securityAPI.getCaptchaUrl()\n    const captchaUrl = response.data.url\n\n    dispatch(getCaptchaUrlSuccess(captchaUrl))\n\n}\n\nexport const logout = (email, password, rememberMe) => async (dispatch) => {\n    let response = await authAPI.logout(email, password, rememberMe)\n    if (response.data.resultCode === 0) {\n        dispatch(setUserData(null, null, null, false))\n    }\n}\n\nexport default authReducer;","import React from 'react';\nimport Header from \"./Header\";\nimport {getUserData, logout} from \"../../redux/auth-reducer\";\nimport {connect} from \"react-redux\";\n\nclass HeaderContainer extends React.Component {\n    componentDidMount() {\n        this.props.getUserData()\n    }\n\n    render () {\n       return <Header {...this.props} />\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    isAuth: state.auth.isAuth,\n    login: state.auth.login\n});\n\nexport default connect(mapStateToProps, {getUserData, logout})(HeaderContainer);","import React from 'react'\nimport {Field, reduxForm} from \"redux-form\";\nimport {Input} from \"../../common/FormControls/FormsControls\";\nimport {required} from \"../../utils/validators\";\nimport {connect} from \"react-redux\";\nimport {login, logout} from \"../../redux/auth-reducer\";\nimport {Redirect} from \"react-router-dom\";\nimport s from './../../common/FormControls/FormControl.module.css'\n\nconst LoginForm =({handleSubmit, error, captchaUrl})=> {\n    return (\n    <form onSubmit={handleSubmit}>\n        <div><Field placeholder={'Email'} name={'email'}\n                    component={Input}\n                    validate={[required]}\n        /></div>\n\n        <div><Field placeholder={'Password'} name={'password'}\n                    type={'password'}\n                    validate={[required]}\n                    component={Input}/></div>\n\n        <div><Field component={Input} type={'checkbox'}/> remember me </div>\n\n        {captchaUrl && <img src={captchaUrl} />}\n\n        <div className={s.formSummaryError}>\n            {error}\n        </div>\n        <div><button>LOGIN</button></div>\n    </form>\n)\n}\n\nconst LoginReduxForm = reduxForm({\n    form: 'login'\n})(LoginForm)\n\nconst Login = (props) => {\n    const onSubmit=(formData)=>{\n        props.login(formData.email, formData.password, formData.rememberMe)\n    }\n\n    if (props.isAuth) {\n        return <Redirect to={'/profile'} />\n    }\n\n    return <div>\n        <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>\n    </div>\n}\n\nconst mapStateToProps =(state) => ({\n    isAuth: state.auth.isAuth,\n    captchaUrl: state.auth.captchaUrl,\n})\n\nexport default connect(mapStateToProps, {login, logout})(Login);","import {getUserData} from \"./auth-reducer\";\n\nconst SET_INITIALIZED = 'SET_INITIALIZED';\n\nlet initialState = {\n    initialized: false,\n    email: null,\n    login: null,\n    isAuth:false,\n};\n\nconst appReducer = (state=initialState, action)=> {\n    switch(action.type) {\n        case SET_INITIALIZED:\n            return {\n                ...state,\n                initialized: true\n        }\n        default:\n            return state;\n    }\n\n}\n\nexport const initializedSuccess = () => ({type: SET_INITIALIZED})\nexport const initializeApp = () => (dispatch) =>{\n    let promise=dispatch(getUserData())\n    Promise.all([promise]).then(()=>{\n        dispatch(initializedSuccess())\n    })\n}\n\nexport default appReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\nimport profileReducer from \"./profile-reducer\";\nimport dialogsReducer from \"./dialogs-reducer\";\nimport usersReducer from \"./users-reducer\"\nimport authReducer from \"./auth-reducer\"\nimport thunkMiddleware from \"redux-thunk\"\nimport {reducer as formReducer} from \"redux-form\"\nimport appReducer from \"./app-reducer\";\n\nlet reducers = combineReducers({\n    profilePage: profileReducer,\n    messagesPage: dialogsReducer,\n    usersPage: usersReducer,\n    auth: authReducer,\n    form: formReducer,\n    app:appReducer,\n})\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)))\n\nexport default store;","import React from 'react';\nimport './App.css';\nimport Navbar from './components/Navbar/Navbar';\nimport {BrowserRouter, Route, withRouter, Switch} from \"react-router-dom\"\nimport Music from \"./components/Music/Music\";\nimport Settings from \"./components/Settings/Settings\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport Login from \"./components/Login/Login\";\nimport {connect, Provider} from \"react-redux\";\nimport {compose} from \"redux\";\nimport {initializeApp} from \"./redux/app-reducer\";\nimport Preloader from \"./common/Preloader/Preloader\";\nimport store from \"./redux/redux-store\";\n\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer')) ;\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer')) ;\n\n\nclass App extends React.Component {\n\n    componentDidMount() {\n        this.props.initializeApp()\n    }\n\n    render() {\n        if (!this.props.initialized){\n            return <Preloader />\n        }\n        return (\n            <div className='app-wrapper'>\n                <HeaderContainer/>\n                <Navbar/>\n                <div className='app-wrapper-content'>\n                    <Switch>\n                    <Route path='/login' render={() => <Login/>}/>\n\n                    <Route path='/dialogs' render={() => {\n                        return <React.Suspense fallback={<div>Loading...</div>}>\n                        <DialogsContainer/>\n                        </React.Suspense>}} />\n\n                    <Route path='/profile/:userId?' render={() =>{\n                        return <React.Suspense fallback={<div>Loading...</div>}>\n                            <ProfileContainer/>\n                        </React.Suspense>}} />\n\n                    <Route path='/users'\n                           render={() => <UsersContainer/>}/>\n\n                    <Route path='/music' render={() => <Music/>}/>\n\n                    <Route path='/settings' render={() => <Settings/>}/>\n                    </Switch>\n                    </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps=(state)=>({\n    initialized:state.app.initialized\n})\n\nlet AppContainer = compose(\n    withRouter,\n    connect(mapStateToProps, {initializeApp}))(App);\n\n\nconst SamuraiJSApp = (props) => {\n    return <BrowserRouter basename={process.env.PUBLIC_URL}>\n        <Provider store={store}>\n            <AppContainer />\n        </Provider>\n    </BrowserRouter>\n}\n\nexport default SamuraiJSApp","import React from 'react';\nimport reportWebVitals from './reportWebVitals';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport SamuraiJSApp from \"./App\";\n\n    ReactDOM.render(\n        \n                <SamuraiJSApp/>\n            ,\n        document.getElementById('root'));\n/*\nstore.subscribe(()=>rerenderEntireTree())*/\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControl_formControl__QpqRr\",\"error\":\"FormControl_error__2DS0X\",\"formSummaryError\":\"FormControl_formSummaryError__svfU5\"};","export default __webpack_public_path__ + \"static/media/1480.ee3fdf30.gif\";","import preloader from \"../../assets/images/1480.gif\";\nimport React from \"react\";\n\nlet Preloader = (props)=>{\n    return <div><img src={preloader}/></div>\n}\n\nexport default Preloader;","import React from \"react\";\nimport s from './FormControl.module.css'\n\nconst FormControl =({input, meta, child, ...props})=> {\n    const hasError =  meta.touched && meta.error\n    return (\n        <div className={s.formControl + ' ' + (hasError ? s.error : '')}>\n            <div>\n                {props.children}\n            </div>\n            {hasError && <span>{meta.error}</span> }\n        </div>\n    )\n}\n\nexport const Textarea =(props)=>{\n    const {input, meta, ...restProps}=props\n    return <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\n}\n\nexport const Input =(props)=>{\n    const {input, meta, ...restProps}=props\n    return <FormControl {...props}><input {...input} {...restProps}/></FormControl>\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__3QZmR\",\"pageNumber\":\"Paginator_pageNumber__xszgn\",\"selectedPage\":\"Paginator_selectedPage__e_EKS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3ADvf\",\"loginBlock\":\"Header_loginBlock__1TVpv\",\"log\":\"Header_log__3Fdho\"};","export const required = value => {\n    if (value) return undefined;\n\n    return 'Field is required'\n}\n\nexport const maxLengthCreator = (maxLength) => (value) => {\n    if (value && value.length > maxLength) return 'Max length is ${maxLength} symbols'\n\n    return undefined\n}\n\n","import {profileAPI, usersAPI} from \"../API/API\";\n\nconst ADD_POST = 'ADD-POST';\nconst DELETE_POST = 'DELETE_POST';\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\nconst SET_STATUS = 'SET_STATUS';\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS';\n\nlet initialState = {\n    posts: [\n        {id: 1, message: \"Hi, how are you?\", likesCount: 21},\n        {id: 2, message: \"It's my first post\", likesCount: 11}\n    ],\n    profile: null,\n    status: '',\n}\n\nconst profileReducer = (state=initialState, action)=> {\n\n    switch(action.type) {\n        case ADD_POST: {\n            let newPost = {\n                id: 5,\n                message: action.newPostMessage,\n                likesCount: 0\n            }\n            return {\n            ...state,\n                posts:[...state.posts, newPost],\n                newPostText:''\n            }\n        }\n        case SET_USER_PROFILE:\n            return {\n                ...state,\n                profile: action.profile\n            }//action.profile\n\n        case SET_STATUS: {\n            return {\n                ...state,\n                status: action.status\n            }\n        }\n        case DELETE_POST: {\n            return {\n                ...state,\n                posts: state.posts.filter(p=>p.id!=action.postId)\n            }\n        }\n        case SAVE_PHOTO_SUCCESS: {\n            return {\n                ...state,\n                profile: {...state.profile, photos: action.photos}\n            }\n        }\n        default:\n            return state\n    }\n\n}\n\nexport const addPostActionCreator = (newPostMessage) => ({type: ADD_POST, newPostMessage})\nexport const setStatus = (status) => ({type: SET_STATUS, status})\nexport const deletePost = (postId) => ({type: DELETE_POST, postId})\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile})\nexport const savePhotoSuccess= (photos) => ({type: SAVE_PHOTO_SUCCESS, photos})\n\nexport const getUserProfile = (userId) => async (dispatch) => {\n    const response = await usersAPI.getProfile(userId)\n        dispatch(setUserProfile(response.data));\n    }\n\nexport const getStatus = (userId) => async (dispatch) => {\n    let response = await profileAPI.getStatus(userId)\n            dispatch(setStatus(response.data));\n}\nexport const updateStatus = (status) => async (dispatch) => {\n    let response = await profileAPI.updateStatus(status)\n\n            if (response.data.resultCode===0) {\n                dispatch(setStatus(status));\n            }\n}\n\nexport const savePhoto = (file) => (dispatch) => {\n    let response = profileAPI.savePhoto(file)\n\n            if (response.data.resultCode===0) {\n                dispatch(savePhotoSuccess(response.data.data.photos));\n            }\n}\n\n\nexport default profileReducer;"],"sourceRoot":""}